-- Books Category Products Migration
WITH books_cat AS (
  SELECT id FROM categories WHERE slug = 'books' LIMIT 1
)
INSERT INTO products (name, slug, description, short_description, sku, price, original_price, category_id, brand, stock_quantity, is_featured, images, rating_average, total_reviews) 
SELECT * FROM (VALUES
  ('The Seven Husbands of Evelyn Hugo: A Novel by Taylor Jenkins Reid', 'seven-husbands-evelyn-hugo', 'A captivating novel about a reclusive Hollywood icon', 'Evelyn Hugo novel', 'BOOK-7HEH-001', 16.99, 17.99, (SELECT id FROM books_cat), 'Atria Books', 500, true, '["https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=300&h=300&fit=crop&crop=center"]', 4.6, 147832),
  ('Atomic Habits by James Clear - An Easy & Proven Way to Build Good Habits', 'atomic-habits-james-clear', 'Transform your life with tiny changes', 'Atomic Habits self-help', 'BOOK-ATHAB-001', 18.00, 21.99, (SELECT id FROM books_cat), 'Avery', 800, true, '["https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=300&h=300&fit=crop&crop=center"]', 4.8, 89234),
  ('Where the Crawdads Sing by Delia Owens - Bestselling Novel', 'where-crawdads-sing', 'A mystery and coming-of-age story', 'Where the Crawdads Sing', 'BOOK-WTCS-001', 15.99, 19.99, (SELECT id FROM books_cat), 'G.P. Putnam''s Sons', 600, false, '["https://images.unsplash.com/photo-1512820790803-83ca734da794?w=300&h=300&fit=crop&crop=center"]', 4.7, 256789),
  ('The Psychology of Money by Morgan Housel - Financial Wisdom', 'psychology-of-money', 'How to think about money and wealth', 'Psychology of Money finance', 'BOOK-POM-001', 17.99, 22.00, (SELECT id FROM books_cat), 'Harriman House', 400, false, '["https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop&crop=center"]', 4.6, 45678),
  ('Educated: A Memoir by Tara Westover - New York Times Bestseller', 'educated-memoir-tara-westover', 'A powerful memoir about education and family', 'Educated memoir', 'BOOK-EDU-001', 16.99, 19.99, (SELECT id FROM books_cat), 'Random House', 350, false, '["https://images.unsplash.com/photo-1497633762265-9d179a990aa6?w=300&h=300&fit=crop&crop=center"]', 4.5, 134567),
  ('The Silent Patient by Alex Michaelides - Psychological Thriller', 'silent-patient-thriller', 'A psychological thriller that will keep you guessing', 'The Silent Patient thriller', 'BOOK-TSP-001', 14.99, 17.99, (SELECT id FROM books_cat), 'Celadon Books', 300, false, '["https://images.unsplash.com/photo-1551029506-0807df4e2031?w=300&h=300&fit=crop&crop=center"]', 4.4, 98765),
  ('Becoming by Michelle Obama - Intimate, Powerful, and Inspiring Memoir', 'becoming-michelle-obama', 'Former First Lady''s inspiring memoir', 'Becoming Michelle Obama', 'BOOK-BCM-001', 19.99, 24.99, (SELECT id FROM books_cat), 'Crown', 450, true, '["https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=300&h=300&fit=crop&crop=center"]', 4.8, 189234),
  ('The Midnight Library by Matt Haig - Philosophy and Fiction Combined', 'midnight-library-matt-haig', 'A novel about the choices that go into a life well-lived', 'The Midnight Library', 'BOOK-TML-001', 15.99, 18.99, (SELECT id FROM books_cat), 'Viking', 380, false, '["https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=300&h=300&fit=crop&crop=center"]', 4.3, 67890),
  ('1984 by George Orwell - Classic Dystopian Social Science Fiction', '1984-george-orwell', 'Classic dystopian novel', '1984 Orwell classic', 'BOOK-1984-001', 13.99, 15.99, (SELECT id FROM books_cat), 'Signet Classics', 1000, false, '["https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=300&fit=crop&crop=center"]', 4.7, 345678),
  ('The Subtle Art of Not Giving a F*ck by Mark Manson - Life Philosophy', 'subtle-art-not-giving-fck', 'A counterintuitive approach to living a good life', 'Subtle Art life philosophy', 'BOOK-SANG-001', 16.99, 19.99, (SELECT id FROM books_cat), 'HarperOne', 250, false, '["https://images.unsplash.com/photo-1589829085413-56de8ae18c73?w=300&h=300&fit=crop&crop=center"]', 4.2, 123456),
  ('Harry Potter and the Sorcerer''s Stone by J.K. Rowling - Hardcover Edition', 'harry-potter-sorcerers-stone', 'The beloved first Harry Potter book', 'Harry Potter Book 1', 'BOOK-HP1-001', 24.99, 29.99, (SELECT id FROM books_cat), 'Arthur A. Levine Books', 600, true, '["https://images.unsplash.com/photo-1621351183012-e51df1bdc82f?w=300&h=300&fit=crop&crop=center"]', 4.9, 567890),
  ('Sapiens: A Brief History of Humankind by Yuval Noah Harari', 'sapiens-yuval-harari', 'A fascinating look at the history of our species', 'Sapiens history book', 'BOOK-SAP-001', 21.99, 25.99, (SELECT id FROM books_cat), 'Harper', 320, false, '["https://images.unsplash.com/photo-1526243741027-444d633d7365?w=300&h=300&fit=crop&crop=center"]', 4.6, 234567)
) AS v(name, slug, description, short_description, sku, price, original_price, category_id, brand, stock_quantity, is_featured, images, rating_average, total_reviews)
ON CONFLICT (slug) DO NOTHING;